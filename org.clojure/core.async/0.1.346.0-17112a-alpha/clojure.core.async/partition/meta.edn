{:ns "clojure.core.async", :name "partition", :file "clojure/core/async.clj", :type :fn, :src "(defn partition\n  \"Deprecated - this function will be removed. Use transformer instead\"\n  ([n ch]\n     (partition n ch nil))\n  ([n ch buf-or-n]\n     (let [out (chan buf-or-n)]\n       (go  (loop [arr (make-array Object n)\n                   idx 0]\n              (let [v (<! ch)]\n                (if (not (nil? v))\n                  (do (aset ^objects arr idx v)\n                      (let [new-idx (inc idx)]\n                        (if (< new-idx n)\n                          (recur arr new-idx)\n                          (do (>! out (vec arr))\n                              (recur (make-array Object n) 0)))))\n                  (do (when (> idx 0)\n                        (let [narray (make-array Object idx)]\n                          (System/arraycopy arr 0 narray 0 idx)\n                          (>! out (vec narray))))\n                      (close! out))))))\n       out)))", :column 1, :line 1075, :arglists ([n ch] [n ch buf-or-n]), :doc "Deprecated - this function will be removed. Use transformer instead"}